<div
    fxLayout="center center">
  <mat-form-field>
    <input
        matInput
        (keyup)="applyFilter($event.target.value)"
        placeholder="Filter">
  </mat-form-field>
  <div class="mat-elevation-z8">
    <table
        mat-table
        multiTemplateDataRows
        matSort
        [dataSource]="contacts">

      <ng-container matColumnDef="index">
        <th
            mat-header-cell
            *matHeaderCellDef>
          Index
        </th>
        <td
            mat-cell
            *matCellDef="let contact; let i = index">
          {{ calculateIndex(i) }}
        </td>
      </ng-container>

      <ng-container matColumnDef="firstName">
        <th
            mat-header-cell
            mat-sort-header
            *matHeaderCellDef>
          First name
        </th>
        <td
            mat-cell
            *matCellDef="let contact">
          {{ contact.firstName }}
        </td>
      </ng-container>

      <ng-container matColumnDef="lastName">
        <th
            mat-header-cell
            mat-sort-header
            *matHeaderCellDef>
          Last name
        </th>
        <td
            mat-cell
            *matCellDef="let contact">
          {{ contact.lastName }}
        </td>
      </ng-container>

      <ng-container matColumnDef="alias">
        <th
            mat-header-cell
            mat-sort-header
            *matHeaderCellDef>
          Alias
        </th>
        <td
            mat-cell
            *matCellDef="let contact">
          {{ contact.alias }}
        </td>
      </ng-container>

      <ng-container matColumnDef="group">
          <th
              mat-header-cell
              mat-sort-header
              *matHeaderCellDef>
            Group
          </th>
          <td
              mat-cell
              *matCellDef="let contact">
            {{ contact.group }}
          </td>
        </ng-container>

      <ng-container matColumnDef="mainPhone">
        <th
            mat-header-cell
            mat-sort-header
            *matHeaderCellDef>
          Main phone
        </th>
        <td
            mat-cell
            *matCellDef="let contact">
          {{ contact.phones[0] }}
        </td>
      </ng-container>

      <ng-container matColumnDef="mainEmail">
        <th
            mat-header-cell
            mat-sort-header
            *matHeaderCellDef>
          Main email
        </th>
        <td
            mat-cell
            *matCellDef="let contact">
          {{ contact.emails[0] }}
        </td>
      </ng-container>

      <ng-container matColumnDef="expandData">
        <td
            mat-cell
            *matCellDef="let contact">
          <div [@detailExpand]="contact == expandedElement ? 'expanded' : 'collapsed'">
            Si vine de la Medelin
          </div>
        </td>
      </ng-container>

      <tr
          mat-header-row
          *matHeaderRowDef="displayedColumns"></tr>
      <tr
          (click)="expandedElement = expandedElement === contact ? null : contact"
          mat-row *matRowDef="let contact; columns: displayedColumns;"></tr>
      <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="example-detail-row"></tr>

    </table>

    <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>

  </div>
</div>
